<?php require_once('../config.php'); require_once(PATH_ROOT_CLASES . 'ccategoria.php'); require_once(PATH_ROOT_CLASES . 'cform_construct_categoria.php'); require_once(PATH_ROOT_CLASES . 'cpagelayout_backend.php'); require_once(PATH_ROOT_CLASES . 'cimagen.php'); require_once(PATH_ROOT_CLASES . 'cutils.php');  // Definimos las seccins del layout $names_section = array( 	'top' 			=> 	'vtop', 	'menu' 			=> 	'vmenu',  	'main' 			=> 	'vcategoria_create', 	'footer'		=>	'vfooter' );//Recojemos el id del usuario a verif ( isset( $_REQUEST['id']) )	$id  = Cutils::get_filtered_params('id', 1, 0, 1, 0);else{	$stripped = Cutils::get_filtered_params('stripped', 1, 0, 1, 0);	$id = Ccategoria::get_id_from_stripped($stripped);}//Miramos si existe. Si no existe enviamos a list$categoria = new Ccategoria($id);if (!$categoria->exists() and !isset($_REQUEST['cformcategoria_item_id'])){	Cutils::set_web_information(0, 'El item no existe o ha sido eliminado de la base de datos');	Clocation::header_location('/categoria/list/');}//incluimos el formulario de usuarios y lo aÃ±adimos al array de formularios$newform = new Cform_construct_categoria('cformcategoria','es','edit',$id);$array_forms['cformcategoria'] = $newform; //incluimos la validacion por javascript$heredoc = Cutils::get_scripts_heredoc_form_validation($array_forms,"doc,image");$layout	= new Cpagelayout_backend( $names_section ); 	$layout->set_page_link_blocker(true);	$layout->set_page_forms($array_forms);	$layout->set_page_heredoc($heredoc);	$layout->set_var('form_type', 'edit');	$layout->set_var('id', $id);	$layout->set_var('table', 'categoria');$layout->Display();?>